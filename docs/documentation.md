# List of definitions
## Append files:
- Files that append to the recipe files(.bbappend files)
- Every append file should have a .bb file
- Must use the same rootfile as .bb file
- % can be used to allow for matching recipe names (ex: busybox_1.%.bbappend should work
 for busbox_1.1.bbappend or busybox_1.2.bbappend etc)
- % may only be used in front of .bbappend

## BitBake
- Task executor and scheduler

## Board Support Package(BSP)
- A group of drivers, definitions and other components that provide
support for specific HW conf

## Build Directory
- The are used for build
- $TOPDIR points to the build dir
- Create custom build dir: source oe-init-build-env <NAME_DIR>

## Build Host
- System used to build images

## Buildtools
- Build tools in binary form(git, gcc, python, make)

## Classes
- Classes that are being used as normal
- .bbclass file extention

## Configuration file
- Files that hold definitions, variables, HW config
- .conf file extention
- conf/local.conf file affect every build

## Container Layer
- A directory structure which contains mutiple valid OpenEmbedded layers

## Cross-Development Toolchain
- Collection of SW dev tools that allow development for a diferent arch
- In yocto project we have Bitbake and a relocatable tollchain out side Bitbake

## Extensible Software Development Kit (eSDK)
- A custom SDK for application developers

## Image
- Arifact of the BitBake build process given collection of recipes and 
related Metadata

## Initramfs
- It is optional
- Initial RAM Filesystem
- Used for replacing the init RAM disk(initrd) technique
- Is an archive extracted by the Kernel into RAM in special tmpfs
used as initial root filesystem

## Layer
- A collection of related recipes
- Hierarchical structure(will override previous specs)

## LTS (Long Term Support)
- Selecting stable releases for bugs and security fixes are
provided for at least four years

## Metadata
- Includes recipes, conf files and other information refering
build instructions and things that affects the build or how it's
being built

## Mixin
- Mixin layer is a lyer created by the community to add specific
feature or support a new verios of some package for LTS release

## OpenEmbedded-Core (OE-Core)
- OE-Core is metadata that includes foundational recipes, classes
and associcated files that are common among different OE-derived systems

## OpenEmbedded Build System
- Build system specific to the Yocto Project
- Is based on "poky" which uses BitBake as the task executor

## Package
- Recpie's packaged output prodced by BitBake
- Is the compiled binaries produced from the recipe's sources

## Package Groups
- Groups of software Recpies
- Package groups end with .bb extention

## Poky
- Is a reference embedded distro and a reference test configuration
- Provides a base-level function distro, a means to test the Yocto
Project components and a vehicle through which you can download the
Yocto project
- It is just a good starting point
- As chatGTP describes it:
Poky = BitBake + OE-Core + Reference metadata + Example distro config

## Recipe
- Set of instructions for building packages
- Logical unit of execution
- .bb file extentention

## SBOM (Software Bill of Materials)
- Documentation for the project
- Description of all the components used, licences, dependencies,
changes 

## Source Directory
- The directory structure made by copying the repo of "poky"
- File or directory names must not use spaces

## SPDX (Software Package Data Exchange)
- Is used as an open standard for SBOM through Linux Foundation
Project

## Sysroot
- The directory made to look like the target filesystem
- Contains C library and kernel headers and binaries for the C lib
- Each recipe has a target sysroot that contains all the target libs
and headers needed to build the recipe and the native sysroot that
contains all the host files and execs needed to build the recipe

## Task
- A per-recipe unit of execution for BitBake (do_compile, do_fetch)
- Can be excuted in prallel

## Toaster
- Web interface to the Yocto Project's OpenEmbedded Build System
- Enables you to configure and run your builds

## Upstream
- Source code or repos that are not local to the development system
but located in a remote area

# Source Directory Structure
## Top-Level Core Components
- bitbake/
 - Here lies the bitbake exec file and files for bitbake to run

- build/
 - config files and output generated by OE build system
 -  it is created when sourcing the oe-init-build-env script

- documentation/
 - Documentation for Yocto Project
 - Also has templates and tools to generate PDF and HTML versions of the manuals

- meta/
 - OpenEmbedded-Core metadata
 - Holds recipes, classes, machines 

- meta-poky/
 - Adds just enough metadata to define the Poky ref distro

- meta-yocto-bsp/
 - Yocto Project reference HW BSP

- meta-selftest/
 - adds append files useb by OF selftest

- meta-skeleton/
 - template recipes for BSP and kernel dev

- scripts/
 - Contains various scripts that implement extra functionality

- oe-init-build-env
 - Script used to set up the OE build env
 - You can modify the build dir if given as parameter to the oe-init-build-env

## The Build Directory - build/

- build/buildhistory/
 - This dir is created when buildhistory is enabled

- build/cache/
 - cache

- build/conf/local.conf
 - Contains all local user config for the build env
 - all confs written here will override other configs 

- build/conf/bblayers.conf
 - The file defines layers, which are directory trees, traversed by Bitbake
 - Uses the BBLAYERS variable

- build/conf/bblock.conf
 - Is generated by bblock and contains the signatures locked by bblock

- build/downloads/
 - Contains downloaded upstream source tarballs
 - This location is set by the DL_DIR variable

- build/sstate-cache/
 - Contains shared state cache
 - This locations is set by the SSTATE_DIR variable

- build/tmp/
 - Used for all the build system's output
 - TMPDIR variable points to here

- build/tmp/deploy
 - Contains any end result output from the oe build process
 - DEPLOY_DIR points to here

- build/tmp/deploy/deb/
 - The dir receives any .deb packages

- build/tmp/deploy/rpm/
 - The dir receives any .rpm packages

- build/tmp/deploy/ipk/
 - Same but for .ipk

- build/tmp/deploy/images/
 - Here is the the basic output objects of the build, including boot loader image, kernel, root fs and more
 - Here is where you flash the os from

- build/tmp/deploy/sdk/
 - Here are the SDKs

- build/tmp/hosttools/
 - Here are the symbolic links to some of the host components that are allowed to be called within tasks

- build/tmp/pkgdata/
 - Here are stored package metadata generated during the do_packagedata task

- build/tmp/sstate-control/
 - Here are the shared state manifest files
 - The shared state code uses these files to record the files installed by each sstate task

- build/tmp/sysroots-components/
 - This dir is the location of the sysroot contents that the task do_prepare_recipe_sysroot links for each recipe listed in DEPENDS

- build/tmp/log/
 - Contains general logs that are not otherwise placed using the package's WORKDIR

- build/tmp/work/
 - Contains arch-specific work sub-directories for packages built by BitBake
 - All tasks execute from the appropriate work directory

- build/tmp/work/<tune_ARCH>/<recipeName>/<version>/
 - the recipe work directory - ${WORKDIR}
 - WORKDIR variable refers to the correct directory from the work dir, specific to each package
 - $WORKDIR/temp/ has log files for each task and the script BitBake runs for each task
 - $WORKDIR/image/ dir is where "make install" places its output
 - ${WORKDIR}/package -> contains the output of the do_package task
 - ${WORKDIR}/package_split -> contains the output of the do_package after the output has been split into individual packages
 - ${WORKDIR}/recipe-sysroot -> dir populated with the target dependencies of the recipe
 - ${WORKDIR}/build  (${B}) -> This subdir applies only to recipes that support build where the source is separate from the build artifacts
 
## The Metadata - meta/
- meta/conf/
 - Contains the core config files that start from bitbake.conf and from which all other configuration files are included
- meta/conf/machine/
 - Machine configuration files
- meta/conf/files/
 - License files
- meta/lib/
 - python lib code used during the build process

# Tasks
 - do_build
 - do_compile -> compile the source code (current workind dir is ${B})
 - do_configure -> confiugres the source by enabling and disabling any build-time and conf option for the SW being built
 - do_deploy -> Writes output files that are to be deployed to ${DEPLOY_DIR_IMAGE} (current working dir is ${B})
 - do_fetch -> fetched the source code from SRC_URI var
 - do_image -> starts the image generation process. Performs pre-processing on the image
 - do_install -> Copies files that are to be packaged into the holding area ${D}
 - do_package -> Analyzes the content of the holding area ${D} and splits the content into subsets based on available package and files
 - do_patch -> Locates patch files and applies them to the source code
  - Uses the FILESPATH variable to determine the default set of dirs when searching for patches
 - do_populate_sysroot -> stages a subset of the files installed by the do_install task into the appropriate sysroot
 - do_unpack -> Unpacks the source code into a working directory pointed to by ${WORKDIR}
